<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>首页</title>
    <link rel="stylesheet" href="./resource/child/styles/css/common.css">
    <link rel="stylesheet" href="./resource/child/styles/css/swiper.css">
    <link rel="stylesheet" href="./resource/child/styles/css/index.css">
    <script src="resource/child/js/common/common.js"></script>
    <script src="resource/child/js/jquery.min.js"></script>
    <script src="resource/child/js/swiper.min.js"></script>
    <script src="resource/child/js/jquery.validate.js"></script>
</head>
<body>
    <!--header-->
    <div class="header">
        <div class="header-kids container">
            <div class="navBar fl">
                <div class="logo">
                    <a href="index.html">
                        <img src="resource/child/images/logo.png" alt="logo">
                    </a>
                </div>
                <ul class="nav-link">
                    <li>
                        <a href="">
                            <i class="nav-icon">
                                <img src="resource/child/images/game.png" alt="game">
                            </i>
                            <span>游戏</span>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <i class="nav-icon">
                                <img src="resource/child/images/video.png" alt="TV">
                            </i>
                            <span>TV秀</span>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <i class="nav-icon">
                                <img src="resource/child/images/gallery.png" alt="gallery">
                            </i>
                            <span>展览</span>
                        </a>
                    </li>
                    <li>
                        <a href="lesson.html">
                            <i class="nav-icon">
                                <img src="resource/child/images/course.png" alt="course">
                            </i>
                            <span>课程</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="login fr">
                <a class="btn kids-btn login-btn" id="login-btn">
                    <span>登录</span>
                    <i>
                        <img src="resource/child/images/login-user.png" alt="i-user">
                    </i>
                </a>
            </div>
        </div>
    </div>
    <!--navigation-->
    <div class="kids-nav">
        <div class="swiper-container" id="topNav">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="video.html">
                        <img src="resource/child/images/navbar1.png">
                    </a>
                </div>
            </div>
            <!-- Add Arrows -->
            <div class="page-Arrows">
                <span class="swiper-button-next">
                    <i class="i-arrows"></i>
                </span>
                <span class="swiper-button-prev">
                    <i class="i-arrows"></i>
                </span>
            </div>
        </div>
        <script type="text/javascript">
            var swiperNav = new Swiper('#topNav', {
                slidesPerView: 9,
                spaceBetween: 30,
                slidesPerGroup: 3,
                loop: false,
                loopFillGroupWithBlank: true,
                freeMode: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    1920:{
                        slidesPerView: 10,
                        spaceBetween: 30,
                    },
                    1200:{
                        slidesPerView: 8,
                        spaceBetween: 30,
                    },
                    1024: {
                        slidesPerView: 7,
                        spaceBetween: 20,
                    },
                    768: {
                        slidesPerView: 7,
                        spaceBetween: 20,
                    },
                    640: {
                        slidesPerView: 5,
                        spaceBetween: 20,
                    },
                    320: {
                        slidesPerView: 5,
                        spaceBetween: 20,
                    }
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
            });
            // set navbar img height
            $('#topNav .swiper-wrapper .swiper-slide a img').css({'width': '100%'});
        </script>
    </div>
    <!--banner-->
    <div class="banner">
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <a href="#">
                        <p class="img_part">
                            <img src="resource/child/images/banner/banner1.png">
                        </p>
                        <p class="title">
                            <img src="resource/child/images/i-gallery.png">
                            <span>儿童艺术展</span>
                        </p>
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="#">
                        <p class="img_part">
                            <img src="resource/child/images/banner/banner3.png">
                        </p>
                        <p class="title">
                            <img src="resource/child/images/i-video.png">
                            <span>儿童艺术展</span>
                        </p>
                    </a>
                </div>
                <div class="swiper-slide">
                    <a href="#">
                        <p class="img_part">
                            <img src="resource/child/images/banner/banner2.png">
                        </p>
                        <p class="title">
                            <img src="resource/child/images/i-gallery.png">
                            <span>儿童艺术展</span>
                        </p>
                    </a>
                </div>

            </div>
        </div>
        <div class="bannerSwiper-pagination"></div>
        <div class="bannerSwiper-button bannerSwiper-button-prev"></div>
        <div class="bannerSwiper-button bannerSwiper-button-next"></div>
    </div>
    <!--greatest games-->
    <div class="category best-games">
        <div class="scope container">
            <div class="title">
                <p>
                    <img src="resource/child/images/best-games.png">
                </p>
                <a href="video.html" class="btn kids-btn">更多游戏</a>
            </div>
            <div class="scope-slider">
                <div class="swiper-container" id="games">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k5.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-game.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k1.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-game.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k2.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-game.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                    </div>
                    <!-- Add Arrows -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <!--add btn-->
                <label class="prev-btn"></label>
                <label class="next-btn"></label>
            </div>
        </div>
    </div>
    <!--hot videos-->
    <div class="category hot-videos">
        <div class="scope container">
            <div class="title">
                <p>
                    <img src="resource/child/images/hot-videos.png">
                </p>
                <a href="#" class="btn kids-btn">更多视频</a>
            </div>
            <div class="scope-slider">
                <div class="swiper-container" id="videos">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k2.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-video.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k2.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-video.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k2.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-video.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k4.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-video.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k1.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-video.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                    </div>
                    <!-- Add Arrows -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <!--add btn-->
                <label class="prev-btn"></label>
                <label class="next-btn"></label>
            </div>
        </div>
    </div>
    <!--art gallery-->
    <div class="category art-gallery">
        <div class="scope container">
            <div class="title">
                <p>
                    <img src="resource/child/images/art-gallery.png">
                </p>
                <a href="#" class="btn kids-btn">更多活动</a>
            </div>
            <div class="scope-slider">
                <div class="swiper-container" id="gallery">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/gallery-1.jpg">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-gallery.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/gallery-2.jpg">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-gallery.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/gallery-3.jpg">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-gallery.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                    </div>
                    <!-- Add Arrows -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <!--add btn-->
                <label class="prev-btn"></label>
                <label class="next-btn"></label>
            </div>
        </div>
    </div>
    <!--creative course-->
    <div class="category creative-course">
        <div class="scope container">
            <div class="title">
                <p>
                    <img src="resource/child/images/creative-course.png">
                </p>
                <a href="#" class="btn kids-btn">更多课程</a>
            </div>
            <div class="scope-slider">
                <div class="swiper-container" id="course">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k1.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-course.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k2.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-course.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                        <div class="swiper-slide">
                            <a href="video.html">
                                <p class="image">
                                    <img src="resource/child/images/k4.png">
                                </p>
                                <p class="text">
                                    <img src="resource/child/images/i-course.png">
                                    <span>儿童艺术展</span>
                                </p>
                            </a>
                        </div>
                    </div>
                    <!-- Add Arrows -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <!--add btn-->
                <label class="prev-btn"></label>
                <label class="next-btn"></label>
            </div>
        </div>
    </div>
    <!--footer-->
    <div class="footer"></div>
    <!--login iframe-->

    <div class="kidsFrame login">
        <div class="kids-form">
            <div class="form-content">
                <form class="login-form" id="loginForm" action="#" method="post">
                    <div class="title">已注册用户：</div>
                    <div class="ipt-account">
                        <input type="text" name="username" id="username" placeholder="手机号/邮箱">
                    </div>
                    <div class="ipt-psd">
                        <input type="password" name="password" id="password" placeholder="密码">
                    </div>
                    <div class="login_btn">
                        <input class="btn kids-btn login_btn" type="submit" value="登录">
                    </div>
                    <div class="Fpsd-login">
                        <a id="forget-psd">忘记密码？</a>
                        <a class="regiser-btn" id="register-btn"><span>或注册账号</span>&gt;&gt;</a>
                    </div>
                    <div class="three_account">
                        <i class="wechat_icon" onclick="wxLogin()">
                            <img src="./resource/child/images/i-wechat.png" alt="wx-icon">
                        </i>
                        <i class="weibo_icon" onclick="wbLogin()">
                            <img src="./resource/child/images/i-weibo.png" alt="wb-icon">
                        </i>
                        <span>使用第三方账号登录</span>
                    </div>
                </form>
                <!--close btn-->
                <div class="md-close" data-dismiss="modal"></div>
            </div>
        </div>
    </div>

    <div class="kidsFrame forget">
        <div class="kids-form">
            <div class="form-content">
                <form class="login-form" id="forgetForm" action="#" method="post">
                    <div class="title">忘记密码：</div>
                    <div class="ipt-account">
                        <input type="text" name="forgetUsername" id="forgetUsername" placeholder="手机号/邮箱">
                    </div>
                    <div class="ipt-psd">
                        <input type="password" name="forgetPassword" id="forgetPassword" placeholder="新密码">
                    </div>
                    <div class="same-layout ipt-validate">
                        <input type="text" class="v-code" name="forgetValidateCode" id="forgetValidateCode" placeholder="验证码">
                        <a class="getCode" onclick="getAuthCode(this)">获取验证码</a>
                    </div>
                    <div class="same-layout click-continue">
                        <input class="continue_btn" type="submit" value="修改">
                        <a class="goBack">返回</a>
                    </div>
                </form>
                <!--close btn-->
                <div class="md-close" data-dismiss="modal"></div>
            </div>
        </div>
    </div>

    <div class="kidsFrame register">
        <div class="kids-form">
            <div class="form-content">
                <form class="login-form" id="registerForm" action="#" method="post">
                    <div class="title">注册账号：</div>
                    <div class="ipt-account">
                        <input type="text" name="registerUsername" id="registerUsername" placeholder="手机号/邮箱">
                    </div>
                    <div class="ipt-psd">
                        <input type="password" name="registerPassword" id="registerPassword" placeholder="新密码">
                    </div>
                    <div class="same-layout ipt-validate">
                        <input type="text" class="v-code" name="registerValidateCode" id="registerValidateCode" placeholder="验证码">
                        <a class="getCode" onclick="getAuthCode(this)">获取验证码</a>
                    </div>
                    <div class="ipt-username">
                        <input type="text" name="name" id="name" placeholder="昵称">
                    </div>
                    <div class="same-layout click-continue">
                        <input class="continue_btn" type="submit" value="注册">
                        <a class="goBack">返回</a>
                    </div>
                </form>
                <!--close btn-->
                <div class="md-close" data-dismiss="modal"></div>
            </div>
        </div>
        <iframe src="about:blank" frameborder="0" scrolling="no"></iframe>
    </div>

</body>
</html>

<script type="text/javascript">
    var bannerSwiper = new Swiper('.banner .swiper-container', {
        watchSlidesProgress: true,
        slidesPerView: 'auto',
        centeredSlides: true,
        loop: true,
        loopedSlides: 3,
        autoplay: {
            delay: 5000,//1秒切换一次
        },
        navigation: {
            nextEl: '.bannerSwiper-button-next',
            prevEl: '.bannerSwiper-button-prev',
        },
        pagination: {
            el: '.bannerSwiper-pagination',
            clickable: true,
        },
        on: {
            progress: function(progress) {
                var modify=1;
                for (i = 0; i < this.slides.length; i++) {
                    var slide = this.slides.eq(i);
                    var slideProgress = this.slides[i].progress;

                    if (Math.abs(slideProgress) > 1) {
                        modify = (Math.abs(slideProgress) - 1) * 0.4 + 1;
                    }
                    translate = slideProgress * modify * 318 + 'px';
                    scale = 1 - Math.abs(slideProgress) /7.5;
                    zIndex = 999 - Math.abs(Math.round(10 * slideProgress));
                    slide.transform('translateX(' + translate + ') scale(' + scale + ')');
                    slide.css('zIndex', zIndex);
                    slide.css('opacity', 1);
                    if (Math.abs(slideProgress) > 3) {
                        slide.css('opacity', 0);
                    }
                }
            },
            setTransition: function(transition) {
                for (var i = 0; i < this.slides.length; i++) {
                    var slide = this.slides.eq(i)
                    slide.transition(transition);
                }

            }
        }

    })

    // screen onchange
    function bannerAutoHeight () {
        var res= $('#dg-container .dg-wrapper a');
        return res.parent().css('height',res.height());
    }
    bannerAutoHeight ();
    $(window).resize(function(){
        bannerAutoHeight ();
    });

    if (IsPC()){
        swiperObj.slidesPerView=3;
    }
    var swiperGames = new Swiper('#games',swiperObj);
    var swiperVideo = new Swiper('#videos',swiperObj);
    var swiperGallery = new Swiper('#gallery',swiperObj);
    var swiperCourse = new Swiper('#course',swiperObj);

    //category click
    $('.scope-slider label.prev-btn').click(function () {
        $(this).parent().find('.swiper-button-prev').click();
    });
    $('.scope-slider label.next-btn').click(function () {
        $(this).parent().find('.swiper-button-next').click();
    });

    //category a tag delay 0.3s jump
    $('.category .scope .title a').attr('onclick','return false').on('click',function () {
        var res=$(this).attr('href');
        setTimeout(function () {
            location.href='/'+res;
        },300)
    });
</script>
<script>
    $('#login-btn').click(function () {
        $('.login').addClass('show');
    });
    $('.md-close').click(function () {
        $(this).parents('.kidsFrame').removeClass('show');
    });
    $('#forget-psd').click(function () {
        $(this).parents('.kidsFrame').removeClass('show');
        $('.forget').addClass('show');
    });
    $('#register-btn').click(function () {
        $(this).parents('.kidsFrame').removeClass('show');
        $('.register').addClass('show');
    });
    $('.goBack').click(function () {
        $(this).parents('.kidsFrame').removeClass('show');
        $('.login').addClass('show');
    });
    $("#loginForm").validate({
        rules: {
            username: {
                required: true,
                kidsUsername: true,
            },
            password: {
                required: true,
                kidsPassword: true,
            },
        },
        messages: {
            username: {
                required: "用户名不能为空！",
                kidsUsername: "请输入正确的手机号或邮箱！"
            },
            password: {
                required: "密码不能为空！",
                kidsPassword: "密码必须为6至18位字符！"
            },
        }
    });
    $("#forgetForm").validate({
        rules: {
            forgetUsername: {
                required: true,
                kidsUsername: true,
            },
            forgetPassword: {
                required: true,
                kidsPassword: true,
            },
            forgetValidateCode: {
                required: true,
            },
        },
        messages: {
            forgetUsername: {
                required: "用户名不能为空！",
                kidsUsername: "请输入正确的手机号或邮箱！"
            },
            forgetPassword: {
                required: "密码不能为空！",
                kidsPassword: "密码必须为6至18位字符！"
            },
            forgetValidateCode:{
                required: "验证码不能为空！",
            },
        }
    });
    $("#registerForm").validate({
        rules: {
            registerUsername: {
                required: true,
                kidsUsername: true,
            },
            registerPassword: {
                required: true,
                kidsPassword: true,
            },
            registerValidateCode: {
                required: true,
            },
            name: {
                required: true,
                rangelength:[2,6],
            },
        },
        messages: {
            registerUsername: {
                required: "用户名不能为空！",
                kidsUsername: "请输入正确的手机号或邮箱！"
            },
            registerPassword: {
                required: "密码不能为空！",
                kidsPassword: "密码必须为6至18位字符！"
            },
            registerValidateCode:{
                required: "验证码不能为空！",
            },
            name: {
                required: "昵称不能为空！",
                rangelength: "用户名为2至6位字符！"
            },
        }
    });

    $.validator.addMethod("kidsUsername", function(value, element) {
        value=""+value;
        if(value){
            if((!Validate.isEmail(value))&&(!Validate.isPhone(value))){
                return false;
            }else{
                return true;
            }
        }else{
            return null;
        }
    });




    $.validator.addMethod("kidsPassword", function(value, element) {
        value=""+value;
        if(value){
            if(!Validate.isPassword(value)){
                return false;
            }else{
                return true;
            }
        }else{
            return null;
        }
    });
    var Validate={
        isPhone : function(contact){
            var reg=/^((1[0-9]{2})|(15[0-9])|(18[0-9])|(17[0-9]))\d{8}$/;//手机号
            return reg.test(contact);
        },
        isEmail: function(contact){
            var reg=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;//邮箱
            return reg.test(contact);
        },
        isPassword: function(password){
            var regPassword = /^.{6,18}$/;
            return regPassword.test(password);
        },
    };

    function getAuthCode(_this) {

        var _this=$(_this);
        _this.html('重新获取 59s');
        var num=10;
        var cleanTime = setInterval(function () {
            if (num==0) {
                clearInterval(cleanTime);
                _this.html('获取验证码').attr('onclick','getAuthCode(this)')
            } else{
                num--;
                _this.html('重新获取 '+num+'s').attr('onclick','return false');
            }
        },1000);
    }
</script>
